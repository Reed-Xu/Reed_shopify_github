{<style>
  .why-choose-us-section {
    padding: 60px 20px;
    max-width: 1200px;
    margin: 0 auto;
  }

  .section-title {
    text-align: center;
    font-size: 32px;
    font-weight: bold;
    margin-bottom: 50px;
    color: #000;
  }

  .features-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 20px;
  }

  .feature-card {
    background-color: white;
    border-radius: 8px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    padding: 30px;
    transition: transform 0.3s ease;
  }

  .feature-card:hover {
    transform: translateY(-10px);
  }

  .feature-prefix {
    font-size: 20px;
    font-weight: 600;
    text-align: center;
    color: #000;
  }

  .feature-title {
    font-size: 20px;
    font-weight: bold;
    margin-bottom: 15px;
    text-align: center;
    color: #000;
  }

  .feature-description {
    font-size: 15px;
    color: #666;
    line-height: 1.5;
  }

  .feature-icon {
    width: 50px;
    height: 50px;
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-left: auto;
    margin-right: auto;
  }

  .feature-icon svg {
    width: 100%;
    height: 100%;
  }

  @media (max-width: 992px) {
    .features-grid {
      grid-template-columns: repeat(2, 1fr);
      gap: 30px 15px;
    }
  }

  @media (max-width: 600px) {
    .features-grid {
      grid-template-columns: 1fr;
      gap: 20px;
    }

    .section-title {
      font-size: 28px;
      margin-bottom: 30px;
    }

    .feature-card {
      padding: 20px;
    }
  }
</style>

<div class="why-choose-us-section">
  <h2 class="section-title">{{ section.settings.section_title }}</h2>

  <div class="features-grid">
    {% for block in section.blocks %}
      <div class="feature-card">
        {% if block.settings.svg_icon != blank %}
          <div class="feature-icon">
            {{ block.settings.svg_icon }}
          </div>
        {% endif %}
        <div class="feature-prefix">{{ block.settings.prefix }}</div>
        <div class="feature-title">{{ block.settings.title }}</div>
        <div class="feature-description">{{ block.settings.description }}</div>
      </div>
    {% endfor %}
  </div>
</div>

{% schema %}
{
  "name": "Why Choose Us",
  "max_blocks": 4,
  "settings": [
    {
      "type": "text",
      "id": "section_title",
      "label": "Section Title",
      "default": "Why Choose Redragon"
    }
  ],
  "blocks": [
    {
      "type": "feature",
      "name": "Feature Box",
      "settings": [
        {
          "type": "html",
          "id": "svg_icon",
          "label": "SVG Icon Code",
          "info": "Paste your SVG code here"
        },
        {
          "type": "text",
          "id": "prefix",
          "label": "Feature Prefix",
          "default": "U.S."
        },
        {
          "type": "text",
          "id": "title",
          "label": "Feature Title",
          "default": "Free U.S. Economy Shipping"
        },
        {
          "type": "richtext",
          "id": "description",
          "label": "Description",
          "default": "<p>Reliable economy shipping to the U.S. only. Track your parcel at any time.</p>"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Why Choose Us",
      "category": "Custom",
      "blocks": [
        {
          "type": "feature",
          "settings": {
            "svg_icon": "<svg width='50' height='50' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M20 6.5H16L14 3H10L8 6.5H4C2.9 6.5 2 7.4 2 8.5V19.5C2 20.6 2.9 21.5 4 21.5H20C21.1 21.5 22 20.6 22 19.5V8.5C22 7.4 21.1 6.5 20 6.5ZM12 18.5C9.8 18.5 8 16.7 8 14.5C8 12.3 9.8 10.5 12 10.5C14.2 10.5 16 12.3 16 14.5C16 16.7 14.2 18.5 12 18.5Z' fill='currentColor'/></svg>",
            "prefix": "Free U.S.",
            "title": "Economy Shipping",
            "description": "<p>Reliable economy shipping to the U.S. only. Track your parcel at any time.</p>"
          }
        },
        {
          "type": "feature",
          "settings": {
            "svg_icon": "<svg width='50' height='50' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M21.41 10.59l-7.99-8C12.79 2.07 12.4 2 12 2s-.79.07-1.42.59l-8 8c-.62.61-.86 1.29-.74 2s.49 1.36 1.16 1.69L4 15.18V18c0 1.1.9 2 2 2h1v-7c0-1.1.9-2 2-2s2 .9 2 2v7h2v-7c0-1.1.9-2 2-2s2 .9 2 2v7h1c1.1 0 2-.9 2-2v-2.82l1.8-1.1c.67-.33 1.11-1.05 1.11-1.82 0-.71-.28-1.37-.81-1.87zm-9.41 2.25c-.41 0-.75-.34-.75-.75s.34-.75.75-.75.75.34.75.75-.34.75-.75.75zM13 9v7c0 .55-.45 1-1 1s-1-.45-1-1V9c0-.55.45-1 1-1s1 .45 1 1z' fill='currentColor'/></svg>",
            "prefix": "30-Day",
            "title": "Return Policy",
            "description": "<p>Return your order within 30 days.</p>"
          }
        },
        {
          "type": "feature",
          "settings": {
            "svg_icon": "<svg width='50' height='50' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M12 2.5L3 9.5V20.5C3 21.6 3.9 22.5 5 22.5H19C20.1 22.5 21 21.6 21 20.5V9.5L12 2.5ZM9.5 18.5H7.5V16.5H9.5V18.5ZM16.5 18.5H14.5V16.5H16.5V18.5ZM14.31 10.5C13.92 10.12 13.49 9.86 12.96 9.73C12.65 9.65 12.34 9.62 12.03 9.62C10.97 9.62 10.01 10.08 9.32 10.94L8.21 9.83L7.2 10.84L8.94 12.58C9.06 12.78 9.2 12.96 9.36 13.13C9.54 13.33 9.74 13.5 9.97 13.64C10.2 13.78 10.45 13.88 10.72 13.96C10.99 14.04 11.27 14.08 11.57 14.08C12.12 14.08 12.63 13.98 13.09 13.78C13.55 13.58 13.95 13.29 14.3 12.94C14.64 12.59 14.89 12.19 15.05 11.75C15.21 11.31 15.28 10.86 15.28 10.4C15.28 10.05 15.22 9.72 15.1 9.42C15 9.12 14.83 8.87 14.6 8.64L14.31 10.5Z' fill='currentColor'/></svg>",
            "prefix": "2-Year",
            "title": "Limited Warranty",
            "description": "<p>Only available on redragonshop.</p>"
          }
        },
        {
          "type": "feature",
          "settings": {
            "svg_icon": "<svg width='50' height='50' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M22 8.5V16.5C22 17.5 21.1 18.5 20 18.5H16V8.5H22ZM16 20.5H20C22.21 20.5 24 18.71 24 16.5V8.5C24 6.29 22.21 4.5 20 4.5H16V20.5ZM14 16.5H4C1.79 16.5 0 14.71 0 12.5C0 10.29 1.79 8.5 4 8.5H14V16.5ZM4 10.5C2.9 10.5 2 11.4 2 12.5C2 13.6 2.9 14.5 4 14.5H14V10.5H4Z' fill='currentColor'/></svg>",
            "prefix": "Enjoy Your",
            "title": "Redragon Perks",
            "description": "<p>Join Redragon Reward Program and enjoy exclusive deals and rewards.</p>"
          }
        }
      ]
    }
  ]
}
{% endschema %}


{% comment %} <style>
  .why-choose-us-section {
    padding: 60px 20px;
    max-width: 1200px;
    margin: 0 auto;
  }

  .section-title {
    text-align: center;
    font-size: 32px;
    font-weight: bold;
    margin-bottom: 50px;
    color: #000;
  }

  .features-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 20px;
  }

  .feature-card {
    background-color: white;
    border-radius: 8px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    padding: 30px;
    transition: transform 0.3s ease;
  }

  .feature-card:hover {
    transform: translateY(-10px);
  }

  .feature-prefix {
    font-size: 20px;
    font-weight: 600;
    text-align: center;
    color: #000;
  }

  .feature-title {
    font-size: 20px;
    font-weight: bold;
    margin-bottom: 15px;
    text-align: center;
    color: #000;
  }

  .feature-description {
    font-size: 15px;
    color: #666;
    line-height: 1.5;
  }

  .feature-icon {
    width: 50px;
    height: 50px;
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-left: auto;
    margin-right: auto;
  }

  .feature-icon svg {
    width: 100%;
    height: 100%;
  }

  @media (max-width: 992px) {
    .features-grid {
      grid-template-columns: repeat(2, 1fr);
      gap: 30px 15px;
    }
  }

  @media (max-width: 600px) {
    .features-grid {
      grid-template-columns: 1fr;
      gap: 20px;
    }

    .section-title {
      font-size: 28px;
      margin-bottom: 30px;
    }

    .feature-card {
      padding: 20px;
    }
    /* === 移动端轮播容器 === */
  .carousel-container {
    display: none; /* 默认隐藏 */
  }

  /* === 移动端专用样式 === */
  @media (max-width: 600px) {
    .carousel-container {
      display: block; /* 仅在移动端显示 */
      position: relative;
      overflow: hidden;
      width: 100%;
      padding-bottom: 40px;
    }
    
    .carousel-track {
      display: flex;
      transition: transform 0.5s ease;
      /* 动态宽度计算 */
      width: calc(150% * {{ section.blocks.size | divided_by: 2 | ceil }});
    }
    
    .carousel-slide {
      flex: 0 0 calc(100% / {{ section.blocks.size | divided_by: 2 | ceil }});
      padding: 0 10px;
      box-sizing: border-box;
      display: flex;
      gap: 15px; /* 卡片间距 */
    }
    
    .carousel-card {
      flex: 0 0 calc(50% - 7.5px); /* 确保两张卡片并排 */
      min-width: calc(50% - 7.5px);
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      padding: 20px;
    }
    
    /* 隐藏描述文本 */
    .mobile-card .feature-description {
      display: none;
    }
    
    .carousel-indicators {
      position: absolute;
      bottom: 10px;
      left: 0;
      right: 0;
      display: flex;
      justify-content: center;
      gap: 10px;
    }
    
    .indicator {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background-color: rgba(0,0,0,0.2);
      cursor: pointer;
      transition: background-color 0.3s;
    }
    
    .indicator.active {
      background-color: #ff0000;
    }
    
    .carousel-arrows {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      width: 100%;
      display: flex;
      justify-content: space-between;
      pointer-events: none;
    }
    
    .arrow {
      width: 40px;
      height: 40px;
      background: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 2px 8px rgba(0,0,0,0.15);
      cursor: pointer;
      pointer-events: all;
    }
  }
</style>


<div class="why-choose-us-section">
  <h2 class="section-title">{{ section.settings.section_title }}</h2>

  <!-- 桌面端布局 -->
  <div class="features-grid">
    {% for block in section.blocks %}
      <div class="feature-card">
        {% if block.settings.svg_icon != blank %}
          <div class="feature-icon">
            {{ block.settings.svg_icon }}
          </div>
        {% endif %}
        <div class="feature-prefix">{{ block.settings.prefix }}</div>
        <div class="feature-title">{{ block.settings.title }}</div>
        <div class="feature-description">{{ block.settings.description }}</div>
      </div>
    {% endfor %}
  </div>

  <!-- 移动端轮播布局 -->
  <div class="carousel-container">
    <div class="carousel-track">
      {% for i in (1..section.blocks.size) %}
        {% assign index = forloop.index0 | times: 2 %}
        {% if index < section.blocks.size %}
          <div class="carousel-slide">
            <!-- 卡片1 - 当前索引 -->
            <div class="carousel-card mobile-card">
              {% assign block1 = section.blocks[index] %}
              {% if block1 %}
                <div class="feature-icon">
                  {{ block1.settings.svg_icon }}
                </div>
                <div class="feature-prefix">{{ block1.settings.prefix }}</div>
                <div class="feature-title">{{ block1.settings.title }}</div>
              {% endif %}
            </div>
            
            <!-- 卡片2 - 下一索引 -->
            <div class="carousel-card mobile-card">
              {% assign nextIndex = index | plus: 1 %}
              {% assign block2 = section.blocks[nextIndex] %}
              {% if block2 %}
                <div class="feature-icon">
                  {{ block2.settings.svg_icon }}
                </div>
                <div class="feature-prefix">{{ block2.settings.prefix }}</div>
                <div class="feature-title">{{ block2.settings.title }}</div>
              {% endif %}
            </div>
          </div>
        {% endif %}
      {% endfor %}
    </div>
    
    <div class="carousel-arrows">
      <div class="arrow prev-btn">←</div>
      <div class="arrow next-btn">→</div>
    </div>
    
    <div class="carousel-indicators">
      {% for i in (1..section.blocks.size) %}
        {% assign slideIndex = forloop.index0 %}
        {% if slideIndex < 3 %}
          <div class="indicator {% if forloop.first %}active{% endif %}" data-index="{{ slideIndex }}"></div>
        {% endif %}
      {% endfor %}
    </div>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const carouselContainer = document.querySelector('.carousel-container');
    
    // 仅在小屏幕设备上初始化轮播
    if (window.innerWidth <= 600 && carouselContainer) {
      const track = document.querySelector('.carousel-track');
      const slides = document.querySelectorAll('.carousel-slide');
      const indicators = document.querySelectorAll('.indicator');
      const prevBtn = document.querySelector('.prev-btn');
      const nextBtn = document.querySelector('.next-btn');
      
      if (!track || slides.length === 0) return;
      
      let currentIndex = 0;
      const slideCount = slides.length;
      const slideWidth = track.offsetWidth / slideCount;
      
      // 更新指示器
      function updateIndicators() {
        indicators.forEach((indicator, index) => {
          indicator.classList.toggle('active', index === currentIndex);
        });
      }
      
      // 更新轮播位置
      function updateCarousel() {
        track.style.transform = `translateX(-${currentIndex * slideWidth}px)`;
        updateIndicators();
      }
      
      // 导航事件
      prevBtn.addEventListener('click', () => {
        currentIndex = Math.max(0, currentIndex - 1);
        updateCarousel();
      });
      
      nextBtn.addEventListener('click', () => {
        currentIndex = Math.min(slideCount - 1, currentIndex + 1);
        updateCarousel();
      });
      
      // 指示器点击事件
      indicators.forEach(indicator => {
        indicator.addEventListener('click', () => {
          currentIndex = parseInt(indicator.dataset.index);
          updateCarousel();
        });
      });
      
      // 触摸滑动功能
      let touchStartX = 0;
      let touchEndX = 0;
      
      track.addEventListener('touchstart', (e) => {
        touchStartX = e.touches[0].clientX;
      });
      
      track.addEventListener('touchmove', (e) => {
        touchEndX = e.touches[0].clientX;
      });
      
      track.addEventListener('touchend', () => {
        handleSwipe();
      });
      
      function handleSwipe() {
        const minSwipeDistance = 50;
        const distance = touchStartX - touchEndX;
        
        if (Math.abs(distance) > minSwipeDistance) {
          if (distance > 0) {
            // 向左滑动 - 下一组
            currentIndex = Math.min(slideCount - 1, currentIndex + 1);
          } else {
            // 向右滑动 - 上一组
            currentIndex = Math.max(0, currentIndex - 1);
          }
          updateCarousel();
        }
      }
      
      // 窗口大小调整时更新
      window.addEventListener('resize', () => {
        slideWidth = track.offsetWidth / slideCount;
        updateCarousel();
      });
      
      // 初始设置
      updateCarousel();
    } else if (carouselContainer) {
      // 在非移动端隐藏轮播容器
      carouselContainer.style.display = 'none';
    }
  });
</script>

{% schema %}
{
  "name": "Why Choose Us",
  "max_blocks": 4,
  "settings": [
    {
      "type": "text",
      "id": "section_title",
      "label": "Section Title",
      "default": "Why Choose Redragon"
    }
  ],
  "blocks": [
    {
      "type": "feature",
      "name": "Feature Box",
      "settings": [
        {
          "type": "html",
          "id": "svg_icon",
          "label": "SVG Icon Code",
          "info": "Paste your SVG code here"
        },
        {
          "type": "text",
          "id": "prefix",
          "label": "Feature Prefix",
          "default": "U.S."
        },
        {
          "type": "text",
          "id": "title",
          "label": "Feature Title",
          "default": "Free U.S. Economy Shipping"
        },
        {
          "type": "richtext",
          "id": "description",
          "label": "Description",
          "default": "<p>Reliable economy shipping to the U.S. only. Track your parcel at any time.</p>"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Why Choose Us",
      "category": "Custom",
      "blocks": [
        {
          "type": "feature",
          "settings": {
            "svg_icon": "<svg width='50' height='50' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M20 6.5H16L14 3H10L8 6.5H4C2.9 6.5 2 7.4 2 8.5V19.5C2 20.6 2.9 21.5 4 21.5H20C21.1 21.5 22 20.6 22 19.5V8.5C22 7.4 21.1 6.5 20 6.5ZM12 18.5C9.8 18.5 8 16.7 8 14.5C8 12.3 9.8 10.5 12 10.5C14.2 10.5 16 12.3 16 14.5C16 16.7 14.2 18.5 12 18.5Z' fill='currentColor'/></svg>",
            "prefix": "Free U.S.",
            "title": "Economy Shipping",
            "description": "<p>Reliable economy shipping to the U.S. only. Track your parcel at any time.</p>"
          }
        },
        {
          "type": "feature",
          "settings": {
            "svg_icon": "<svg width='50' height='50' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M21.41 10.59l-7.99-8C12.79 2.07 12.4 2 12 2s-.79.07-1.42.59l-8 8c-.62.61-.86 1.29-.74 2s.49 1.36 1.16 1.69L4 15.18V18c0 1.1.9 2 2 2h1v-7c0-1.1.9-2 2-2s2 .9 2 2v7h2v-7c0-1.1.9-2 2-2s2 .9 2 2v7h1c1.1 0 2-.9 2-2v-2.82l1.8-1.1c.67-.33 1.11-1.05 1.11-1.82 0-.71-.28-1.37-.81-1.87zm-9.41 2.25c-.41 0-.75-.34-.75-.75s.34-.75.75-.75.75.34.75.75-.34.75-.75.75zM13 9v7c0 .55-.45 1-1 1s-1-.45-1-1V9c0-.55.45-1 1-1s1 .45 1 1z' fill='currentColor'/></svg>",
            "prefix": "30-Day",
            "title": "Return Policy",
            "description": "<p>Return your order within 30 days.</p>"
          }
        },
        {
          "type": "feature",
          "settings": {
            "svg_icon": "<svg width='50' height='50' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M12 2.5L3 9.5V20.5C3 21.6 3.9 22.5 5 22.5H19C20.1 22.5 21 21.6 21 20.5V9.5L12 2.5ZM9.5 18.5H7.5V16.5H9.5V18.5ZM16.5 18.5H14.5V16.5H16.5V18.5ZM14.31 10.5C13.92 10.12 13.49 9.86 12.96 9.73C12.65 9.65 12.34 9.62 12.03 9.62C10.97 9.62 10.01 10.08 9.32 10.94L8.21 9.83L7.2 10.84L8.94 12.58C9.06 12.78 9.2 12.96 9.36 13.13C9.54 13.33 9.74 13.5 9.97 13.64C10.2 13.78 10.45 13.88 10.72 13.96C10.99 14.04 11.27 14.08 11.57 14.08C12.12 14.08 12.63 13.98 13.09 13.78C13.55 13.58 13.95 13.29 14.3 12.94C14.64 12.59 14.89 12.19 15.05 11.75C15.21 11.31 15.28 10.86 15.28 10.4C15.28 10.05 15.22 9.72 15.1 9.42C15 9.12 14.83 8.87 14.6 8.64L14.31 10.5Z' fill='currentColor'/></svg>",
            "prefix": "2-Year",
            "title": "Limited Warranty",
            "description": "<p>Only available on redragonshop.</p>"
          }
        },
        {
          "type": "feature",
          "settings": {
            "svg_icon": "<svg width='50' height='50' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M22 8.5V16.5C22 17.5 21.1 18.5 20 18.5H16V8.5H22ZM16 20.5H20C22.21 20.5 24 18.71 24 16.5V8.5C24 6.29 22.21 4.5 20 4.5H16V20.5ZM14 16.5H4C1.79 16.5 0 14.71 0 12.5C0 10.29 1.79 8.5 4 8.5H14V16.5ZM4 10.5C2.9 10.5 2 11.4 2 12.5C2 13.6 2.9 14.5 4 14.5H14V10.5H4Z' fill='currentColor'/></svg>",
            "prefix": "Enjoy Your",
            "title": "Redragon Perks",
            "description": "<p>Join Redragon Reward Program and enjoy exclusive deals and rewards.</p>"
          }
        }
      ]
    }
  ]
}
{% endschema %} {% endcomment %}
